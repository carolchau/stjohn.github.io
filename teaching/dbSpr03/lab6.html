<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>  <title>Lab 6 for CMP 420, Spring 2003, Lehman College, CUNY</title>  </head><body bgcolor="#ffffff" link="#003399" vlink="#236b8e"> <h1>Laboratory Exercise 6</h1><h2>Data Types in SQL</h2><h2>CMP 420: Database Systems<br> Lehman College, City University of New York<br>20 March 2002</h2><hr><h2>Data Types in SQL</h2>Each implementation of SQL has slightly different types.  The system we're using in lab, Postgres, has a rich set of native data types available to users.  Most of these agree with the SQL standards presentedin the textbook.  Today's lab focuses on using different types of datain PostGreSQL.<h3>Basic Types</h3>Using the list of data types at<a href="http://www.us.postgresql.org/users-lounge/docs/6.5/user/datatype.htm">http://www.us.postgresql.org/users-lounge/docs/6.5/user/datatype.htm</a>,find the Postgres equivalent to the following standard types:<ul>    <li> <tt>integer</tt>    </li><li> <tt>boolean</tt>    </li><li> <tt>character(10)</tt></li></ul><h3>Serial Types</h3>It is often useful for every row of your table to have a unique number.For example, the <tt>orders</tt> table, from the sample database used in<a href="lab3.html">Lab 3</a> assigns to every new tuple a unique numberthat serves as the order number. It would be tedious to assign the ordernumbers manually. So, PostgreSQL has a built in type called <tt>serial</tt>which assigns to the attribute the next available number, thus creating aunique identifier for the row. &nbsp;What other tables in the sample databaseuse the serial datatype?<br><h3>Types for Dates and Times &nbsp;</h3>There are many ways to represent dates and times in PostgreSQL. A list of the available types can be found at<br><a href="http://www.us.postgresql.org/users-lounge/docs/6.5/user/x774.htm">http://www.us.postgresql.org/users-lounge/docs/6.5/user/x774.htm</a>.There are two basic kinds provided byPostgres: absolute clock times and relative time intervals. The firstis used for measuring the actual time or date when something occured.  Thelatter is used for measuring elapsed time.Postgres supplies two primary user-oriented date and time types, <tt>datetime</tt> and <tt>timespan</tt>, as well as the related SQL92 types <tt>timestamp</tt>, <tt>interval</tt>, <tt>date</tt> and <tt>time</tt>. Other date and time types are also available, mostly forhistorical reasons. <p>There are built-in functions for working with dates:<a href="http://www.us.postgresql.org/users-lounge/docs/6.5/user/x2345.htm"> http://www.us.postgresql.org/users-lounge/docs/6.5/user/x2345.htm</a>.Note in this page, that 'now' gives the current date and time (accordingto the system clock).For example, say you wanted all orders placed in the first 6 months of the year from the sample database from <a href="lab3.html">Lab 3</a>.  Todo this, you can use the <tt>date_part</tt> function to find the monthand use that in the conditional of the query:</p><pre>    SELECT * <br>    FROM orders<br>    WHERE date_part('hour',ord_placed) &lt;= 6;<br></pre>Similarly, you could also find all orders that were paid for in the sameyear they were ordered:<pre>    SELECT * <br>    FROM orders<br>    WHERE date_part('year',ord_placed) = date_part('year',ord_paid);<br></pre><h3>Using the Different Types</h3><p>Create a database for use in today's lab.  Now, create a table to holdinformation about library books.  This table should have:</p><ul>    <li> a unique ID for each book (hint: use the serial data type),     </li><li> the title of the book,    </li><li> the year the book was published,    </li><li> the date the book was last checked out (if it was never checked	out, this field can be NULL),    </li><li> the date the book is due back to the library (if it was never 	checked out, this field can be NULL), and    </li><li> the name of the borrower of the book (if it was never 	checked out, this field can be NULL).</li></ul><p>Add (by hand) several sample rows to your table.  Write the followingqueries to demonstrate your database:</p><ol>    <li> select all books published before 2000.    </li><li> select all books that have been checked out for more than 2 weeks.    </li><li> give the ID of all books that are due in less than 1 week (from	today or now).</li></ol><h3>Final Comments</h3>Before leaving the lab, you need to log out and shut down yourcomputer.  First, you should quit all applications.  Then,go to the <tt>K</tt> menu in the bottom left hand corner andselect <tt>Log Out</tt>.  Choose the <tt>Shut Down</tt> option,and shut off the monitor when you're done.<p>Remember to pick up any files you sent to the printer and totake any personal belongings.  It is difficult to get backinto the lab later (since it's locked when not in use), so,it's worth making sure you haven't forgotten anything.</p><br><br></body></html>