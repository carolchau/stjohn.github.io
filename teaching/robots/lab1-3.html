<title>Lab 1, Cluster III, COSMOS, UC Davis, Summer 2002</title>

<body bgcolor="ffffff" link="003399" vlink="236b8e"> 

<h1>Laboratory Exercise 1</h1>
<h2>Cluster III: Robots and Rockets<br>
COSMOS Program, UC Davis<br>
July 2002</h2>

<hr>
<h3>NQC and Locomotion</h3>

Today's lab starts with compiling and downloading simple NQC 
programs to the lego robot.  The programs focus on locomotion
and will work best with either the tracks, feet or wheels you 
built for the robot earlier.  Sensors are not needed for 
the programs in this lab.

<p><b>Design requirements:</b>  This lab assumes that the
two motors are wired to output ports A and C.  Further, each
motor is attached to a means of locomotion (legs, treads,
feet, etc.).  


<h3>General Information About the Lab</h3>

We will be using MacNQC on the iBooks.  Launch the MacNQC program,
which is located in the robots folder at the top level of the iBook's
drive.

<h3>Getting Started</h3>

Before NQC programs can be loaded, the firmware
must be installed.  As long as the batteries are not removed for
more than a minute, should have to be done only once.  Sometimes,
though, someone else downloading a program on a nearby computer
can corrupt the firmware and make it nescessary to download a fresh
copy.  There is already a copy of the required firmare on the iBook
in the appropriate place- it's called <tt>firm0328.lgo</tt>

<p>
Next, take the IR tower (from the lego kit)
and attach them to either of the USB ports on the iBook.
Now set the robot so that its IR port is facing the IR tower. 
You need to let MacNQC know that you will be communicating with
the tower via USB.  Under the "Edit" menu, there is "Preferences"
which has a "Communication" tab.  Select the USB tower.  Now, from
the RCX menu, select "Download Firmware".
If you were successful, the robot counter will increase, and
make a series of beeps, and you will see in the terminal window:
<pre>
Downloading firmware:...................................................
...............................
Current Version: 00030001/00030009
</pre>
The robot must be turned on to download the firmware or programs.


<h3>Compiling and Loading NQC programs</h3>

Now, we're ready to load programs onto the robot.
You may type the programs in by hand (tedious!), or
you may download the programs to your machine (much easier!).
Click on <a href="guidenqc/tankbot1.nqc">tankbot1.nqc</a>  then paste
the code into a MacNQC window, and save it to a file in the Documents
directory.
To compile and download the program, select "compile and download" from the program menu.
If you were successful, the robot will
make a series of beeps.

<p>
Place the robot on the floor,
and click on run.  This simple program (loaded in Program 1)
will go forward forever.  After you make sure it works, stop
the program and turn off the robot to conserve the batteries.


<h3>Turning in Circles</h3>

Open a new window and paste in the tankbot1 code to start
on a program circles.nqc
Using the <tt>circles.nqc</tt> so
that it will go in a large circle, instead of straight.  Follow
the directions above to download the program to the robot.  Test
the program to find out the diameter of the circle.


<h3>Turning in Place</h3>

Copy the circles.nqc program to a new file, by typing:
Write a program that will turn the robot <b>in place</b>.  Your
robot should rotate a full 360 degrees before stopping.  Note
that the strength of the batteries and the floor surface will 
affect how long you need to wait before completing a full turn
and turning off the engines.  

<p>
Use a constant to store the amount of time needed for a complete
turn since future programs will use this number.

<h3>Tracing Shapes</h3>

If there's time, draw the following shapes:
<ul>
    <li> <b>A "figure 8":</b> this is based on the <tt>circles.nqc</tt> program.
    <li> <b>A square:</b> this uses the same idea as <tt>turnInPlace.nqc</tt> 
	to turn the corners.  Use constants for turning time and straight
	time (see <a href="guidenqc/tankbot2.nqc">tankbot2.nqc</a>).
    <li> <b>A hexagon:</b> Figure out the turning time for 360 degrees and
	divide by 6 for the turns.
    <li> <b>The first letter of your first name</b>.
</ul>


</body>
</html>


