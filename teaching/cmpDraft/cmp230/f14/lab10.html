<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Lab 10, CMP 230,Introductory Programming, Lehman College, CUNY, Fall 2014</title>
    <link type="text/css" rel="stylesheet" href="../../../../lehman.css" />
</head>
<body>

<div id="header">

<h2>Lab 10<br>
CMP 230 (CMP 167): Introductory Programming <br>
Lehman College, City University of New York<br>
Fall 2014<br><br>
</h2>
</div>

<div>

<p>
Today's lab looks at nested loops and indefinite loops from Chapter 8 and more on finding errors.

</div>


<div>

<h3>Mystery Point Game</h3>

<p>Today, we are going to write a simple game where the user tries to find our mystery
point in the graphics window.  Lets first go through the <a href="mysteryPoint.py">program</a>
section by section:

<ul>
	<li> Opening comments and importing modules:  In addition to <tt>math</tt> and <tt>graphics</tt>,
		we will also need to generate random numbers (to put our point at a random location), so, 
		we have also included that module:
<pre>
# Mystery point game for Lab 9
# Lehman College, CUNY, Fall 2012

from graphics import *
from math import *
from random import *
</pre>

	<li> We will reuse the distance function from the previous lab:
<pre>
# Reuse the distance function we wrote for Lab 8:
def dist(p1,p2):
    dist = sqrt((p1.getX()-p2.getX())**2 + (p1.getY() - p2.getY())**2)
    return dist

</pre>
	<li> Set up the graphics window:
<pre>
def main():
    w = GraphWin("Target Practice",500,500)
    w.setCoords(-250,-250,250,250)
</pre>
	<li> We will use the built-in random number generator to give 
	coordinates for our mystery points.  See Chapter 9 for more discussion 
	on random numbers:
<pre>
    #Generate a mystery point (at a random location):
    x = randrange(-200,200)
    y = randrange(-200,200)
    print("x and y are:",x,y)
    mysteryPoint = Point(x,y)
</pre>
	<li> Set up a <tt>Text</tt> object to display messages to the user.  We changed the font size,
	since the default one is small and hard to read.
<pre>
    #Text to tell the user what's happening:
    t = Text(Point(0,-210), "Click on the mystery point")
    t.setSize(16)
    t.draw(w)
</pre>
	<li> Save the point that the user clicked in the variable <tt>p</tt>.  We display its distance
	to our mystery point in the IDLE shell:
<pre>
    #Get the point:
    p = w.getMouse()
    p.draw(w)
    d = dist(mysteryPoint, p)
    print("distance from mystery point is:", d)
</pre>
	<li>  This loop repeats as long as the condition <tt>d > 20</tt> holds.  So, once the point
	clicked is within 20 of the mystery point, the loop ends.  You can make the game harder
	(or easier) by decreasing (or increasing) 20.  For example, if you change the 20 to 10, then 
	the user has to click even closer to the mystery point to win.  If you change the 20 to 100, 
	then the game becomes much easier since they only have to be within 100 to win.
<pre>
    #Keep going until they click close to the point:
    while d > 20:
        t.setText("Missed! Please click again!")
        p = w.getMouse()
        p.draw(w)
        d = dist(mysteryPoint, p)
        print("distance from mystery point is:", d)
</pre>
	<li> Congratulate the user for finding the point and end the program nicely:
<pre>
    t.setText("Congratulations!  You found the mystery point!")

    #keep the window up until the user clicks
    w.getMouse()
    w.close()

main()
</pre>
</ul>

<p>Try running the program.  How easy is it to win?

<h3>Giving Hints</h3>

<p>Could you find the point without peeking at the IDLE shell?  To make
the game a bit easier, we will add hints.  The first hint will be to tell
the user if they need to click more to the left (or right) to find the 
point.  Here is the pseudocode:
<pre>
	if point clicked is to the left of mystery point
		give message "Too far left"
	else 
		give message "Too far right"
</pre>
How can you tell if the point clicked is to the left of the mystery point?
The x-coordinate tells how far left or right a point is, so, we compare
the x-coordinates of the two points:
<pre>
        if p.getX() < mysteryPoint.getX():
            t.setText("Click again! You were too far left")
        else:
            t.setText("Click again! You were too far right")
</pre>


<p>Now, add in the code that will give a hint to move up (or down) 
depending on where they clicked with respect to the mystery point.
Your completed program should have a "left/right" hint and an "low/high"
hint to make the game possible to do without looking at our diagonostics
on the python shell.

<p>
Hint:  Before the loop, set up another <tt>Text</tt> object, <tt>t2</tt> to display
the message about being too low or too high:
<pre>
    t2 = Text(Point(0,-230), "")
    t2.setSize(16)
    t2.draw(w)
</pre>


</ul>

</div>

<div>
<h3>Finding Errors, II</h3>

<p>In <a href="lab6.html">Lab 6</a>, we looked at some common syntax errors and how to fix them.  Most of those errors were missing punctuation (such at colons, quotes, or plus signs).  Let's look at a few more errors that occur when using conditionals, loops, and functions:

<pre>
ADD MORE
</pre>
</div>


<div>


<p> If you finish early, you may work on the <a href="ps.html">programming problems</a>.

</p>
</div>
</html>