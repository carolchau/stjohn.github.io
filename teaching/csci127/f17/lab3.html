<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Lab 3, CSci 127, Introduction to Computer Science, Hunter College, CUNY, Fall 2017</title>
    <link type="text/css" rel="stylesheet" href="../../../lehman.css" />
</head>
<body>

<div id="header">

<h2>Lab 3<br>CSci 127: Introduction to Computer Science<br>
Hunter College, City University of New York<br>
Fall 2017<br><br>
</h2>
</div>

<div>

<p>
Today's lab will focus on image files and colors
in Python.  

<p>Software tools needed:  terminal (command line), web browser and Python IDLE programming 
environment.


</div>



<div>
<h3>Using Python, Gradescope, and Blackboard</h3>

<p>See <a href="lab1.html">Lab 1</a> for details on using Python, Gradescope, and Blackboard.
</p>
</div>

<div>
<h3>Colors</h3>

<p>
There are several different ways to specify colors.  We will use colors, by name, by percentage, and by hexadecimal format.
</p>

</div>

<div>
<h4>Names for Colors</h4>

<p>
For common colors, you can give the name of the color, as a string.  For example, run the program (click the triangle) to see two turtles, drawing in different colors:

<p>
<iframe src="https://trinket.io/embed/python/b594e53e4a" width="100%" height="300" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
</p>

<!--
<p>There are <a href="http://www.w3schools.com/colors/colors_hex.asp">more than 100 colors</a> that we can use by name.  For example:
</p>
<p>
<a href="http://www.w3schools.com/colors/colors_hex.asp"><img src="blues.png" ></a>
</p>
<!--Here's a list:
<p>
<!--
<iframe src="http://www.computerhope.com/htmcolor.htm#purple" width="100%" height="250" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>-->
<!--
<p>Some are obvious, like (red or blue), others are a bit more obscure (like darksalmon or chartreuse).  What color is darksalmon?  Change the color of one of the turtles in the coding window above to find out.  Add in a new turtle and make it your favorite color.  Draw a few lines to demonstrate its color.
</p>
-->

<p>Most common color names are available (as are some not-so-common ones).


</div>

<div>
<h4>Colors by Decimals</h4>

<p>
As we saw above, the turtle package recognizes many common colors by name.  If your favorite color is not on that list, you can make a new color by specifying how much of the <span style="color:red">red</span>, <span style="color:green">green</span>, and <span style="color:blue">blue</span> ('<span style="color:red">R</span><span style="color:green">G</span><span style="color:blue">B</span>') light intensity you would like. The range for each is from 0 (no light) to 255 (100% light).  For example, if all the light intensities are 255 (100% of the possible), then the color is white.  
</p>

<p> Read the code below and guess what color each turtle is.  Check your guess by running the program:
<br><br>
</p>

<p>
<iframe src="https://trinket.io/embed/python/11f1644654" width="100%" height="600" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></iframe>
</p>     

<p>Let's look at some of the shades of red that are available.  Here's our plan:
<ol>
	<li> Create a turtle, <tt>tess</tt>.
	<li> For 10, 20, 30, ..., 250,
	<li> &nbsp;&nbsp; Move forward 10 steps
	<li> &nbsp;&nbsp; Make the turtle a bit larger each time
	<li> &nbsp;&nbsp; Make the turtle a bit more red each time
</ol>

Let's change each piece of our "To Do" list into Python code:
<ol>
	<li> Create a turtle, <tt>tess</tt>.
	
		<p> We've done this before.  We import the turtle module and set up the turtle.  One new thing we need to do, is to tell the turtle library that we would like to represent colors as decimal numbers:
<pre>
#A program that demonstrates the shades of red
#Fall 2017

import turtle				#Import the turtle drawing package

turtle.colormode(255)		#Allows colors to be given as 0...255
tess = turtle.Turtle()		#Create a turtle
</pre>

		<p> To keep our drawing from running off the screen, we'll move <tt>tess</tt> backwards before we start our loop:
		
<pre>
tess.backward(100)			#Move her backwards, to give more space to draw
</pre>
		
	<li> For 10, 20, 30, ..., 250,
	
		<p>This can be done with a <tt>for</tt>-loop and a <tt>range</tt> that starts at 10, stops at 255, and steps up by 10 each time:
		
<pre>
for i in range(0,255,10):
</pre>
	<li> &nbsp;&nbsp; Move forward 10 steps
<pre>
     tess.forward(10)		#Move forward  
</pre>
	<li> &nbsp;&nbsp; Make the turtle a bit larger each time
<pre>
     tess.pensize(i)		#Set the drawing size to be i (larger each time)   
</pre>	
	<li> &nbsp;&nbsp; Make the turtle a bit more red each time
<pre>

     tess.color(i,0,0)		#Set the red channel to be i (brighter each time)    
</pre>	
</ol>

<p>Here's the whole program altogether.  Copy it over to an idle file window and try running it:

<pre>
#A program that demonstrates the shades of red
#Fall 2017

import turtle				#Import the turtle drawing package

turtle.colormode(255)		#Allows colors to be given as 0...255
tess = turtle.Turtle()		#Create a turtle
tess.shape("turtle")		#Make it turtle shaped
tess.backward(100)			#Move her backwards, to give more space to draw

#For 0,10,20,...,250
for i in range(0,255,10):
     tess.forward(10)		#Move forward
     tess.pensize(i)		#Set the drawing size to be i (larger each time)
     tess.color(i,0,0)		#Set the red channel to be i (brighter each time)    
</pre>

<p>
The resulting graphics window is:
<p>
<img height=400 src="shadesOfRed.png">

<p>
How would you show shades of blue?  When you have figured out the answer, see <a href="ps.html">Programming Problem List</a>.

</div>

<div>
<h4>Colors by Hexadecimal</h4>

<p>
A common way to represent colors is using hexadecimal numbers.  Our traditional decimal, or base-10 numbers, use 10 symbols for each digit:  0, 1, 2, 3, ..., 9.  Hexadecimail, or base-16 numbers, use 16 symbols.  In addition to 0, 1, 2, ..., 9, the letters A, B, C, D, E, and F are also used.  

<p> A good way to think about it is to think about what the world would be like if everyone had 8 fingers on each hand, instead of 5.  When we count, on 10 fingers, we can use the symbols 0, 1, 2, ..., 9 to label each finger:

<p>
<img src="hands10.png">
<br>
(from <a href ="http://www.i-programmer.info/babbages-bag/478-hexadecimal.html">i-programmer.info</a>)

<p>
Doing the same for 16 fingers, we use 0, 1, 2, ..., 9, and then A, B, ..., E when we run out of the normal symbols for numbers:

<p>
<img src="hands16.png">
<br>
(from <a href ="http://www.i-programmer.info/babbages-bag/478-hexadecimal.html">i-programmer.info</a>)

<p>
The first 9 numbers are the same in both decimal and hexadecimal, but larger numbers are different.  For example, counting out 11 on our 8-fingered hands gives the symbol A.  So, decimal number 11 is the single digit hexadecimal number, A.  

<p> Going in the other direction, the hexadecimal number 11, is counting through all the fingers (16) plus one more, yielding 17. 

<p>  Why does this matter?  Our color values range in decimal from 0 to 255.  If we write these in hexadecimal, the range is 0 to FF.  FF is the largest hexadecimal number, so, this range of values fits perfectly in two-digit hexadecimal numbers.

<p>For example, here are some shades of blue, given with their name and hexadecimal value:
<p>
<a href="http://www.w3schools.com/colors/colors_hex.asp"><img src="blues.png" ></a>
</p>

<p>

hex representation-- have a turtle get redder and redder, by upping hex values

Find image of 8-fingered hands (Head First HTML?)

</div>

<div>
<h3> More on Files & Command Line Interface</h3>

Include one or two more commands from labs 3 onward...
</div>


<div>
<h3>Images</h3>

<img src="sic-imageplanes.png" height= 200 align="right">
There are many different formats to store images.  Some store the information about the color of every <i>pixel</i> ("picture element" or dot on the screen).  Others store end points of lines or boundaries of regions and the colors of each.  We focus on the former, and in particular, use the <tt>png</tt> (portable network graphics) file format, which is popular for storing images captured from cameras and is `lossless' (every pixel captured is stored, so, can also be quite large).  Each pixel is represented by its the percentage of red, green, and blue ("RGB") values. Images are stored as a grid of red values, a grid of green values, and a grid of blue
values. 

<p>
For example, if we stored our image in the variable, <tt>img</tt>, we could access the red
value by:
<pre>
	print "Upper left has red:", img[0,0,0]
</pre>
and the amount of green:
<pre>
	print "Upper left has green:", img[0,0,1]
</pre>
and the amount of blue:
<pre>
	print "Upper left has blue:", img[0,0,2]
</pre>
Any point can be accessed via its coordinates <tt>(i,j)</tt> and the color channel (0 for red, 1 for green, and 2 for blue).

<p>
What does this code do?   Work through it first, and then try on your computer.  This program assumes that you have a file called <a href="bf1.png">bf1.png</a> in the same directory.  You can use that file, or substitute one of your own.
	<pre> 	
import matplotlib.pyplot as plt  
import numpy as np               
img = plt.imread('bf1.png')	#Read in image from bf1.png
plt.imshow(img)			#Load image into matplotlib
plt.show()
height = img.shape[0]
width = img.shape[1]
newImage = np.zeros((height,width,3))
for i in range(height):
	print "processing row", i 
	for j in range(width): 
		newImage[i,j,0] = img[i,j,0] 
		newImage[i,j,1] = 0 
		newImage[i,j,2] = 0		
plt.imshow(newImage)		#Open window to show image (close to continue)
plt.show() 
plt.imsave('face2.png',newImage)
</pre>

<h4>Challenges:</h4>
<ul>
	<li> How can you display only the green channel? How can you display the blue
channel?
	<li> Write a program that displays the image in black and white. Each color value of the pixels in the new image are an average of the red, green, and blue in the original. That is, 
	<pre>
newR = (r+g+b)/3
newG = (r+g+b)/3
newB = (r+g+b)/3
</pre>
	<li> Write a program that shows only the pixels that are white (or very close-- that is, red, blue, and green values above 90%).	
	<li> Write a program that shows only pixels that differ between these two butterfly images, <a href="bf1.png">bf1.png</a> and <a href="bf2.png">bf2.png</a>.
</ul>

<tt>
<ul>
	<li> Good explanation in Section 8.10 of text book...
	<li> Explain RGB + alpha for png's
	<li> Pull out the red channel of an image
	<li> Give multiple ways to show every other row of an image (use range() and numpy arrays)
</ul>
</tt>


</div>

<div>
<h3>In-class Quiz</h3>

During lab, there is a <a href="quizzes.html">quiz</a>.  The password to access the quiz will be given during lab.  To complete the quiz, log on to Blackboard (see <a href="lab1.html">Lab 1</a> for details on using Blackboard).

</div>



<div>

<h3>What's Next?</h3>

<p>If you finish the lab early, now is a great time to get a head start on the programming problems due early next week.  There's instructors to help you, and you already have Python up and running.  The <a href="ps.html">Programming Problem List</a> has problem descriptions, suggested reading, and due dates next to each problem.

</div>

<div>
<h3>Using Python on Your Computer</h3>

<p>Today's lab introduced several packages that are freely available but do not always come bundled with Python.  If you are using anaconda at home, then most are included.  See the directions below for other installations. (To install Python at home, see <a href="lab1.html">Lab 1</a> for directions.)


<p>
If you have a Linux machine and would like to match the environment on the lab machines, at a terminal window, type the following commands:
<pre> sudo apt-get update
 sudo apt-get -y upgrade
 sudo apt-get install python3 python3-pip idle3
 pip3 install numpy pandas folium image matplotlib scipy
 sudo apt-get install spyder
</pre>


</div>


</html>