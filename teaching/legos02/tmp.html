<title>Lab 3A, COSMOS 2002, UC Davis</title>

<body bgcolor="ffffff" link="003399" vlink="236b8e"> 


<h1>Laboratory Exercise 3Ah1>
<h2>Robotics<br>
COSMOS 2002<br>
UC Davis</h2>

<hr>
<h3>Making Goals</h3>

The goal of today's lab is to move a small object or ball from the
starting zone to the target (or basket).  There are many different
approaches to this problem (see below for description and pictures
of some ways to approach this).

<p><b>Design requirements:</b>  This lab assumes that the two motors
are wired to output ports A and C.  Further, each motor is attached
to a means of locomotion (legs, treads, feet, etc.).  When using
the light sensor, it is wired to sensor port 2.  The touch sensor
is wired to sensor port 1.  The second touch sensor will be wired
to sensor port 3 for the last program.

<p>
CHECK THESE! do any of the programs use a second touch sensor?
<p>
extra motor?

<p><b>Programs used:</b> Today's lab uses <a
href="guidenqc/dumptruck.nqc">dumptruck.nqc</a>, and ???

<p><b>Lab set-up:</b> The lab should have a children's swimming
pool with a small basketball hoop about 4 inches off the ground
and a small cardboard box on the floor of the pool (for the dumptruck
to dump its load).  (If a pool is not available, tape the basket
to the wall and be prepared to chase a lot of basketballs!) Both
baskets have a black line of tape marking the path from the start
area to the basket.  Strips of other color tape can be added to
the approach to the basket (these can be used with the light sensor
to tell the robot when to shoot its basketball or drop its load).


<h3>Different Approaches</h3>

include pictures from last year
<ul>
   <li> nqc's dumpdot
   <li> no motors for basketball
   <li> top mounted basket
</ul>

<h3></h3>


<h3></h3>


<h3></h3>

The first half of today's lab is to try out the light seeking and
line following programs discussed in lecture.  First, download
<a href="seek.nqc">seek.nqc</a>.  This program will seek out a
bright light.  If it doesn't find a light, it will beep, turn
for random distance, and go forward.  

<p>
If it's going forward and never beeping, check to see if the
sensor is connected to input port 2.  Next, increase the 
THRESHOLD constant in the program.  If the robot is beeping
and turning all the time, decrease the THRESHOLD constant.  
The values of the THRESHOLD constant will change depending on
how close the light sensor is to the ground, the ground 
surface, and the type of light.  To see the value of the light
sensor, toggle the <tt>VIEW</tt> button on the robot to sensor 
port 2.  

<p>
While you have the light sensor on the robot, also try the 
<a href="guidenqc/linebot1.nqc">linebot1.nqc</a> program.  This program
will follow a black line on the ground.  Try it out on the 
test track that comes with the robot kit.  Adjust this program 
for the current light level (change the light threshold 
constants as above).


<h3>The touch sensor and bumpers</h3>

One natural use for the touch sensor is as part of a bumper.
Wire a bumper to input sensor 1 and try 
<a href="guidenqc/bumpbot1.nqc">bumpbot1.nqc</a>.  Copy 
this program to new file:
<pre>
cp bumpbot1.nqc limited_bumps.nqc
</pre>
Change the program in the following ways, and test between
steps:
<ol>
    <li> First, change <tt>limited_bumps.nqc</tt> to beep 
	everytime it hits an obstacle. 
    <li> Next, declare a variable called <tt>num_obstacles</tt>
	and set it to 0.  After the touch sensor is bumped,
	increase the variable by 1 (one command that will do
	this is: <tt>num_obstacles++;</tt>).
    <li> Change the <tt>while(true)</tt> loop to stop after
	5 obstacles are hit.
</ol>

Modify your program so that <b>only one</b> constant needs
to be changed to change the number of obstacles you are
allowed to hit before the program stops.

<h3>Double Bumper</h3>

Add a back bumper to your robot with a touch sensor wired to 
input port 3.  Write a program (you can copy 
<tt>bumpbot1.nqc</tt> as a starting point) that changes direction 
and turns when one of the bumpers is hit.  Remember to 
initialize the new sensor, as you did for the first one.

<h3>Projects</h3>

With the remaining time, you should focus on the design of your
project.  What kind of parts will you need?  How long do you think
it will take to built it?  What programs do you need to write?  If
you need ideas for the project, look at 
<a href="projects.html">projects.html</a>.
If there's time, try your robot on the obstacle course, using 
<tt>bumpbot1.nqc</tt>.  How does it do?  Alter your program
so that it does better through the course, using the 
bumpers.


</body>
</html>


